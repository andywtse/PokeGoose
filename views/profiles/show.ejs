<%- include('../partials/html-head') %>
<%- include('../partials/nav') %>

<main>
  <section class="section-container p-box-1">
    <h1><%= title %> </h1>
    <% if (profile.avatar) { %>
      <div>
          <img
          class="profile-avatar"
          src="<%= profile.avatar %>"
          alt="<%= profile.name %>'s avatar"
        >
      </div>
      <h3><%= profile.name %> </h3>
      <div>
        <p><%=profile.description%></p>
      </div>
    <% } %>
  </section>
  <section class="section-container p-box-2">
    <div>
      <h1><% isSelf ? 'Your Teams' : 'Their Teams'%></h1>
      <% if (hasTeams) { %> 
      <div class="card-container">
        <% profile.myTeams.forEach(team => { %>
          <a href="/teams/<%= team._id %>">
            <div class="card" style="width: 18rem;">
              <div class="card-body">
                <h5 class="card-title"><%= team.title %> </h5>
                <h6 class="card-subtitle mb-2 text-muted">
                  <% team.pokemon?.forEach(pokemon => { %>
                    <img src="<%= pokemon.icon%>" alt="<%= pokemon.name %>">
                  <% }) %>
                </h6>
                <p class="card-text">
                  <%= team.description %> 
                </p>
              </div>
            </div>
          </a>
        <% }) %>
      <% } else { %>
        <p> There are currently no teams... </p>
      <% } %>
    </div>
  </section>
</main>

<%- include('../partials/footer') %>